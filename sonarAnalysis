pipeline{
   agent 'any'
}
   stages{
     stage ('Checkout'){
         steps{
           git url: 'https://github.com/duraipandigit/pipeline_test.git',branch: 'main',credentialsId: 'GitHub_Token'
        }
     }
     stage('SonarQube analysis') {
         steps{
            script{
              def projectkey = "testproject"
			  mvn org.sonarsource.scanner.maven:sonar-maven-plugin:3.9.1.2184:sonar -X -Dsonar.projectKey=${projectkey} -Dsonar.host.url=${sonarqubeurl} -Dsonar.java.binaries=* -Dsonar.exclusions=**/*.xml
			 }
			}
		}
}
