pipeline{
   agent 'any'

#    environment {
 #       MAVEN_HOME = tool 'Maven' // Name you gave in Global Tool Configuration
  #      PATH = "${MAVEN_HOME}/bin:${env.PATH}" // Add Maven bin to PATH
  #  }

   stages{
     stage ('Checkout'){
         steps{
           git url: 'https://github.com/duraipandigit/pipeline_test.git',branch: 'main',credentialsId: 'GitHub_Token'
        }
     }
stage('SonarQube Analysis') {
    steps {
        echo "Running SonarQube analysis..."
         
            sh """
                $mvn3911 clean verify sonar:sonar \
                    -Dsonar.projectKey=testproject \
                    -Dsonar.projectName=testproject \
                    -Dsonar.host.url=http://10.192.190.152:31506 \
                    -Dsonar.login=testtoken
            """
        }
    }
}
}

