pipeline{
   agent 'any'

 tools {
        maven 'Maven'
        jdk 'JDK11'
    }

   stages{
     stage ('Checkout'){
         steps{
           git url: 'https://github.com/duraipandigit/pipeline_test.git',branch: 'main',credentialsId: 'GitHub_Token'
        }
     }
stage('SonarQube Analysis') {
    steps {
        echo "Running SonarQube analysis..."
         
            sh """
                mvn clean verify sonar:sonar \
                    -Dsonar.projectKey=testproject \
                    -Dsonar.projectName=testproject \
                    -Dsonar.host.url=http://10.192.190.152:31506 \
                    -Dsonar.login=testtoken
            """
        }
    }
}
}

